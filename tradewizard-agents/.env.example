# ============================================================================
# Market Intelligence Engine Configuration
# ============================================================================
# This file contains all configuration options for the Market Intelligence Engine.
# Copy this file to .env and fill in your actual values.

# ============================================================================
# Polymarket API Configuration
# ============================================================================
# Configure connection to Polymarket's prediction market APIs
POLYMARKET_GAMMA_API_URL=https://gamma-api.polymarket.com
POLYMARKET_CLOB_API_URL=https://clob.polymarket.com
POLYMARKET_RATE_LIMIT_BUFFER=80  # Use 80% of rate limit (0-100)

# ============================================================================
# LLM Configuration
# ============================================================================
# The engine supports two modes:
#
# 1. SINGLE-PROVIDER MODE (Budget-Friendly):
#    - Set LLM_SINGLE_PROVIDER to 'openai', 'anthropic', or 'google'
#    - Configure only that provider's API key and model
#    - All agents use the same LLM with different prompts
#    - Lower cost, simpler API key management
#
# 2. MULTI-PROVIDER MODE (Optimal Quality, Default):
#    - Leave LLM_SINGLE_PROVIDER unset or commented out
#    - Configure multiple providers
#    - Each agent uses a different LLM optimized for its task
#    - Higher cost but better quality recommendations

# ----------------------------------------------------------------------------
# Single-Provider Mode Example (Uncomment to enable)
# ----------------------------------------------------------------------------
# LLM_SINGLE_PROVIDER=openai
# OPENAI_API_KEY=sk-...
# OPENAI_DEFAULT_MODEL=gpt-4o-mini

# ----------------------------------------------------------------------------
# Multi-Provider Mode (Default - Configure all providers you want to use)
# ----------------------------------------------------------------------------
# OpenAI Configuration (used for Market Microstructure Agent in multi-provider mode)
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_DEFAULT_MODEL=gpt-4-turbo

# Anthropic Configuration (used for Risk Assessment Agent in multi-provider mode)
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_DEFAULT_MODEL=claude-3-sonnet-20240229

# Google Configuration (used for Probability Baseline Agent in multi-provider mode)
GOOGLE_API_KEY=your_google_api_key_here
GOOGLE_DEFAULT_MODEL=gemini-1.5-flash

# ============================================================================
# Opik Configuration (Observability & Tracing)
# ============================================================================
# Opik provides LLM tracing, debugging, and cost tracking
# Supports both cloud (https://www.comet.com/opik) and self-hosted deployments

# Cloud Opik (default)
OPIK_API_KEY=your_opik_api_key_here
OPIK_PROJECT_NAME=market-intelligence-engine
OPIK_WORKSPACE=default
OPIK_TRACK_COSTS=true

# Self-Hosted Opik (uncomment if using self-hosted)
# OPIK_BASE_URL=http://localhost:5000
# OPIK_PROJECT_NAME=market-intelligence-engine
# OPIK_TRACK_COSTS=true

# Optional: Add tags to all traces (comma-separated)
# OPIK_TAGS=production,v1.0,debate-protocol

# ============================================================================
# Agent Configuration
# ============================================================================
# Configure agent behavior and thresholds
AGENT_TIMEOUT_MS=10000           # Maximum time per agent in milliseconds
MIN_AGENTS_REQUIRED=2            # Minimum agents needed for consensus

# ============================================================================
# Consensus Configuration
# ============================================================================
# Configure consensus calculation and trade recommendation thresholds
MIN_EDGE_THRESHOLD=0.05                # Minimum edge to recommend trade (5%)
HIGH_DISAGREEMENT_THRESHOLD=0.15       # Disagreement index threshold (15%)

# ============================================================================
# Logging Configuration
# ============================================================================
# Configure system logging behavior
LOG_LEVEL=info                        # Options: debug, info, warn, error
AUDIT_TRAIL_RETENTION_DAYS=30         # Days to retain audit logs

# ============================================================================
# LangGraph Configuration
# ============================================================================
# Configure the LangGraph workflow engine
LANGGRAPH_CHECKPOINTER=memory         # Options: memory, sqlite, postgres
LANGGRAPH_RECURSION_LIMIT=25          # Maximum graph execution depth
LANGGRAPH_STREAM_MODE=values          # Options: values, updates

# Checkpointer Options:
# - memory: In-memory (development, no persistence)
# - sqlite: File-based persistence (production)
# - postgres: Database persistence (production, requires DB setup)
